# 滑动窗口内最大值的更新结构

## 基本介绍

滑动窗口，任何时刻：

- `R++`，R往右动，数会从右侧进窗口
- `L++`，L往右动，数会从左侧出窗口
- 移动原则：不能让 `L` 跑到 `R` 的右侧

### 求窗口内最大值的更新结构

使用 **双端队列** ，双端队列中保持严格的由大到小的次序。

> 双端队列的含义：**如果此时开始缩小窗口，哪些数会依次成为窗口内的最大值。**

在窗口的右边界 R 向右移动过程中：

- 如果双端队列为空，直接从右侧压入元素
- 如果当前压入的元素 **大于等于** 双端队列中最右侧的元素，则将双端队列中最右侧元素弹出，再进行压入操作
- 如果当前压入元素 **小于** 双端队列中最右侧的元素，则直接从双端队列右侧压入

![IMG_013DA9208902-1](https://p.ipic.vip/kym9db.jpg)

所有数，只会进一次双端队列，出一次双端队列。因此双端队列更新的总代价 $O(N)$。

## 经典题目

### 题目一：窗口最大值

假设一个固定大小为 W 的窗口，依次划过 `arr`，返回每一次滑出状况的最大值。

如：`arr=[4,3,5,4,3,3,6,7], W=3`，返回 `[5,5,5,4,6,7]`





















